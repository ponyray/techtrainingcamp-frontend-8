[{"D:\\techtrainingcamp-frontend-8\\src\\index.js":"1","D:\\techtrainingcamp-frontend-8\\src\\main.js":"2","D:\\techtrainingcamp-frontend-8\\src\\LoginPage\\loginpage.js":"3","D:\\techtrainingcamp-frontend-8\\src\\LiveContainers\\live.js":"4","D:\\techtrainingcamp-frontend-8\\src\\MainContainers\\sideMenu\\sideMenu.js":"5","D:\\techtrainingcamp-frontend-8\\src\\MainContainers\\header\\liveEntrance.js":"6","D:\\techtrainingcamp-frontend-8\\src\\MainContainers\\videoInstruction\\videoInstruction.js":"7","D:\\techtrainingcamp-frontend-8\\src\\LiveContainers\\comments\\liveComments.js":"8","D:\\techtrainingcamp-frontend-8\\src\\LiveContainers\\comments\\utils.js":"9","D:\\techtrainingcamp-frontend-8\\src\\LiveContainers\\socket\\webSocketR.js":"10"},{"size":584,"mtime":1612691542806,"results":"11","hashOfConfig":"12"},{"size":10575,"mtime":1612691542806,"results":"13","hashOfConfig":"12"},{"size":2179,"mtime":1612691542799,"results":"14","hashOfConfig":"12"},{"size":2576,"mtime":1612697770325,"results":"15","hashOfConfig":"12"},{"size":3831,"mtime":1612691542805,"results":"16","hashOfConfig":"12"},{"size":523,"mtime":1612691542801,"results":"17","hashOfConfig":"12"},{"size":1663,"mtime":1612691542806,"results":"18","hashOfConfig":"12"},{"size":5368,"mtime":1612693203721,"results":"19","hashOfConfig":"12"},{"size":907,"mtime":1612692792113,"results":"20","hashOfConfig":"12"},{"size":1643,"mtime":1612692671095,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"1c1mq15",{"filePath":"25","messages":"26","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"24"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"32","messages":"33","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"24"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"D:\\techtrainingcamp-frontend-8\\src\\index.js",[],["45","46"],"D:\\techtrainingcamp-frontend-8\\src\\main.js",["47","48"],"import React, { Component, Fragment } from 'react';\r\nimport Player from 'griffith';\r\n// import Player from 'xgplayer';\r\nimport axios from 'axios';\r\n\r\nimport LiveEntrance from './MainContainers/header/liveEntrance';\r\n// import Search from './MainContainers/header/search';\r\n// import PlayWindow from './MainContainers/playWindow/playWindow';\r\nimport SideMenu from './MainContainers/sideMenu/sideMenu';\r\nimport VideoInstruction from './MainContainers/videoInstruction/videoInstruction';\r\n\r\nimport './style.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// let player = new Player({\r\n//     id: 'vs',\r\n//     url: 'https://sf1-hscdn-tos.pstatp.com/obj/media-fe/xgplayer_doc_video/mp4/xgplayer-demo-720p.mp4'\r\n//   });\r\n\r\nclass Main extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.getNextVideo = this.getNextVideo.bind(this);\r\n        this.getLastVideo = this.getLastVideo.bind(this);\r\n\r\n        this.state = {\r\n            sign: '90f47aab-181d-447a-835a-4430bf27f14c11185932311118593231',\r\n            videoInstruction : \"这是一个视频简介。\",\r\n            id: 1,\r\n            author: \"字节君\",\r\n            url: \"x×.xx.xx/video / 1.mp4\",\r\n            description: \"字节跳动8周年,不忘初心,Always Day1\",\r\n            tagList: [\"一个普通公司的8年\"],\r\n            likes: 2,\r\n            comments: 3,\r\n            isLike: 0,\r\n\r\n            sources : {\r\n                sd: {\r\n                // play_url: 'https://zhstatic.zhihu.com/cfe/griffith/zhihu2018_sd.mp4',\r\n                // play_url: 'https://sf1-hscdn-tos.pstatp.com/obj/media-fe/xgplayer_doc_video/mp4/xgplayer-demo-720p.mp4',\r\n                // play_url: 'https://bytedancecamptiktok.oss-cn-hangzhou.aliyuncs.com/2021/02/01/5d196a71a5b1465a90b2e1842a35deb2%E7%AB%96%E7%89%88%E8%A7%86%E9%A2%91%E5%90%88%E9%9B%86.mp4'\r\n                play_url: 'https://bytedancecamptiktok.oss-cn-hangzhou.aliyuncs.com/2021/02/01/2e0c1a02037c418aa5f476ccfeff26a2竖版小视频飞机拍摄.mp4'\r\n                // play_url : \"123\"\r\n                // play_url: \"123456\"\r\n                },\r\n            }\r\n        }\r\n    }\r\n    \r\n    // getVideoInfo(){\r\n    // }\r\n\r\n    getLastVideo() {\r\n        // alert('正在获取上一个视频')\r\n        var url = 'http://bytedancecamp.rooftopj.cn:8080/video/lastVideo/' + this.state.sign\r\n        axios.get(url)\r\n            .then( (res) => {\r\n                console.log(res)\r\n\r\n                console.log(res.data.code)\r\n\r\n                switch (res.data.code) {\r\n                    case 203: {\r\n                        alert(\"请登录\")\r\n                        this.props.history.push('/login');\r\n                        break;\r\n                    }\r\n                    case 202: {\r\n                        alert(res.data.message);\r\n                        break;\r\n                    }\r\n                    default : {\r\n                        console.log(res.data.data.video.id)\r\n                        console.log(res.data.data.video.url)\r\n                        \r\n                        console.log(\"url改变之前的url为\")\r\n                        console.log(this.state.sources.sd.play_url)                    \r\n        \r\n                        this.setState( () => {\r\n                            return {\r\n                                id: res.data.data.video.id,\r\n                                author: res.data.data.video.authorName,\r\n                                description: res.data.data.video.description,\r\n                                tagList: res.data.data.video.tags,\r\n                                likes: res.data.data.video.likeNum,\r\n                                isLike: res.data.data.video.isLike,\r\n                                comments: res.data.data.video.commentNum,\r\n                                sources: {\r\n                                    sd: {\r\n                                        play_url: res.data.data.video.url\r\n                                    }\r\n                                }\r\n                            }\r\n                        })                    \r\n                        console.log('url改变完成')\r\n                        console.log(this.state.sources.sd.play_url)\r\n                    }\r\n\r\n                }\r\n            })\r\n    }\r\n\r\n    getNextVideo(){\r\n        // alert('正在获取下一个视频')\r\n        var url = 'http://bytedancecamp.rooftopj.cn:8080/video/getNewVideo/' + this.state.sign\r\n        axios.get(url)\r\n            .then( (res) => {\r\n                console.log(res)\r\n\r\n                console.log(res.data.code)\r\n\r\n                switch (res.data.code) {\r\n                    case 203 : {\r\n                        alert(\"请登录\")\r\n                        this.props.history.push('/login');\r\n                        break;\r\n                    }\r\n                    default : {\r\n                        console.log(res.data.data.video.id)\r\n                        console.log(res.data.data.video.url)\r\n                        \r\n                        console.log(\"url改变之前的url为\")\r\n                        console.log(this.state.sources.sd.play_url)                    \r\n        \r\n                        this.setState( () => {\r\n                            return {\r\n                                id: res.data.data.video.id,\r\n                                author: res.data.data.video.authorName,\r\n                                description: res.data.data.video.description,\r\n                                tagList: res.data.data.video.tags,\r\n                                likes: res.data.data.video.likeNum,\r\n                                isLike: res.data.data.video.isLike,\r\n                                comments: res.data.data.video.commentNum,\r\n                                sources: {\r\n                                    sd: {\r\n                                        play_url: res.data.data.video.url\r\n                                    }\r\n                                }\r\n                            }\r\n                        })                    \r\n                        console.log('url改变完成')\r\n                        console.log(this.state.sources.sd.play_url)\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    componentWillMount() {\r\n\r\n        console.log('componentWillMount')\r\n        // console.log(this.state.sources.sd.play_url)\r\n\r\n        // var url = 'http://bytedancecamp.rooftopj.cn:8080/video/getNewVideo/' + this.state.sign\r\n        // axios.get(url)\r\n        //     .then( (res) => {\r\n        //         console.log(res)\r\n        //         console.log(res.data.data.video.id)\r\n\r\n        //         console.log(res.data.data.video.url)\r\n                \r\n        //         console.log(\"url改变之前的url为\")\r\n        //         console.log(this.state.sources.sd.play_url)\r\n                \r\n\r\n        //         this.setState( () => {\r\n        //             return {\r\n        //                 Id: res.data.data.video.id,\r\n        //                 author: res.data.data.video.authorName,\r\n        //                 description: res.data.data.video.description,\r\n        //                 tagList: res.data.data.video.tags,\r\n        //                 likes: res.data.data.video.likeNum,\r\n        //                 comments: res.data.data.video.commentNum,\r\n        //                 sources: {\r\n        //                     sd: {\r\n        //                         play_url: res.data.data.video.url\r\n        //             }\r\n        //         }\r\n        //             }\r\n        //         })\r\n                \r\n        //         console.log('url改变完成')\r\n        //         console.log(this.state.sources.sd.play_url)\r\n        //     })\r\n    }\r\n\r\n    componentDidMount() {\r\n        // var url = 'http://bytedancecamp.rooftopj.cn:8080/video/getNewVideo/' + this.state.sign\r\n        // axios.get(url)\r\n        //     .then( (res) => {\r\n        //         console.log(res)\r\n\r\n        //         console.log(res.data.code)\r\n\r\n        //         switch (res.data.code) {\r\n        //             case 203 : {\r\n        //                 alert(\"请登录\")\r\n        //                 this.props.history.push('/login');\r\n        //                 break;\r\n        //             }\r\n        //         }\r\n        //     })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <div className='header'>\r\n                    <div className='liveEntrance'>\r\n                        <LiveEntrance sign={this.state.sign} /></div>\r\n                    <div className='notice'>\r\n                        <p className='text'>关注</p>\r\n                    </div>\r\n                    <div className='getVideo'>\r\n                        <button className='btn' id='getLastVideo' onClick={this.getLastVideo}>上</button>\r\n                        <button className='btn' id='getNextVideo' onClick={this.getNextVideo}>下</button>\r\n                    </div>\r\n                </div>\r\n                <div class='videoPlay' id='vs'>\r\n                    {console.log('视频加载开始')}\r\n                    <video id='playWindow' src={this.state.sources.sd.play_url} controls></video>\r\n                    {console.log('视频加载结束')}\r\n                    {/* <div className='play'>\r\n                        {console.log('视频加载开始')}\r\n                        <Player sources={this.state.sources} />\r\n                        <video id='playWindow' src={this.state.sources.sd.play_url} controls></video>\r\n                        {console.log('视频加载结束')}\r\n                    </div> */}\r\n                    <div className='videoInstruction'>\r\n                        <VideoInstruction \r\n                            author = {this.state.author}\r\n                            description = {this.state.description}\r\n                            tagList = {this.state.tagList}\r\n                            \r\n                        />\r\n                    </div>\r\n                    <div className='sideMenu'>\r\n                        <SideMenu\r\n                                id = {this.state.id}\r\n                                sign = {this.state.sign}\r\n                                likes = {this.state.likes}\r\n                                comments = {this.state.comments}\r\n                                repost  = {1235}\r\n                                isLike = {this.state.isLike}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Main;","D:\\techtrainingcamp-frontend-8\\src\\LoginPage\\loginpage.js",[],"D:\\techtrainingcamp-frontend-8\\src\\LiveContainers\\live.js",["49"],"D:\\techtrainingcamp-frontend-8\\src\\MainContainers\\sideMenu\\sideMenu.js",["50","51"],"import React, { Component, Fragment} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport './style.css';\r\n\r\nimport icon_avatar from './img/avatar.png';\r\nimport icon_islike from './img/islike.png';\r\nimport icon_dislike from './img/dislike.png';\r\nimport icon_comment from './img/comment.png';\r\nimport icon_repost from './img/repost.png';\r\n\r\n\r\nclass SideMenu extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.getIconLikePath = this.getIconLikePath.bind(this);\r\n        this.changeLike = this.changeLike.bind(this);\r\n\r\n        this.state = {\r\n            id: 0,\r\n            sign: '',\r\n            likes: 0,\r\n            comment: 0,\r\n            repost: 0,\r\n            isLike: 0,\r\n            iconLikePath: '',\r\n        }\r\n    }\r\n\r\n    getIconLikePath() {\r\n            console.log(this.state.isLike);\r\n            if ( this.state.isLike === 1) {\r\n                return <img src={icon_islike} alt='' className='icon'></img>\r\n            } else {\r\n                return <img src={icon_dislike} alt='' className='icon'></img>\r\n            }\r\n    }\r\n\r\n    changeLike() {\r\n        var url = 'http://bytedancecamp.rooftopj.cn:8080/video/like/' + this.props.id + '/' + this.props.sign\r\n        axios.get(url)\r\n            .then( (res) => {\r\n                console.log(res)\r\n                console.log(res.data.code)\r\n                console.log('res.data.data.flag = '+res.data.data.flag);\r\n                if ( res.data.code === 203) {\r\n                    // alert(\"请登录\")\r\n                    // this.props.history.push('/login');\r\n                    <a href='/login'></a>\r\n                }\r\n\r\n                var tlikes = this.state.likes;\r\n                if(res.data.data.flag) {\r\n                    tlikes += 1\r\n                } else {\r\n                    tlikes -= 1\r\n                }\r\n\r\n                this.setState({\r\n                    isLike: res.data.data.flag,\r\n                    likes: tlikes, \r\n                })\r\n        })\r\n        if ( this.state.isLike === 1) {\r\n            console.log(\"点赞\");\r\n            return <img src={icon_islike} alt='' className='icon'></img>\r\n        } else {\r\n            console.log(\"取消点赞\");\r\n            return <img src={icon_dislike} alt='' className='icon'></img>\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            id: this.props.id,\r\n            sign: this.props.sign,\r\n            likes: this.props.likes,\r\n            comments: this.props.comments,\r\n            repost: this.props.repost,\r\n            isLike: this.props.isLike,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <div>\r\n                    <div className='sideMenus' id='avatar'>\r\n                        <img src={icon_avatar} alt='' className='icon'></img>\r\n                    </div>\r\n                    <div className='sideMenus' id='like' onClick={this.changeLike}>\r\n                        {this.getIconLikePath()}\r\n                        {console.log(\"isLike = \"+this.state.isLike)}\r\n                        <div id='Num'>{this.state.likes}</div>\r\n                        {console.log('likes = ' + this.state.likes)}\r\n                    </div>\r\n\r\n                    <div className='sideMenus' id='comment'>\r\n                        <img src={icon_comment} alt='' className='icon'></img>\r\n                        <div id='Num'>{this.state.comments}</div>\r\n                    </div>\r\n                    <div className='sideMenus' id='repost'>\r\n                        <img src={icon_repost} alt='' className='icon'></img>\r\n                        <div id='Num'>{this.state.repost}</div>\r\n                    </div>\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SideMenu;        ","D:\\techtrainingcamp-frontend-8\\src\\MainContainers\\header\\liveEntrance.js",[],"D:\\techtrainingcamp-frontend-8\\src\\MainContainers\\videoInstruction\\videoInstruction.js",[],"D:\\techtrainingcamp-frontend-8\\src\\LiveContainers\\comments\\liveComments.js",[],"D:\\techtrainingcamp-frontend-8\\src\\LiveContainers\\comments\\utils.js",[],"D:\\techtrainingcamp-frontend-8\\src\\LiveContainers\\socket\\webSocketR.js",[],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","severity":1,"message":"57","line":2,"column":8,"nodeType":"58","messageId":"59","endLine":2,"endColumn":14},{"ruleId":"56","severity":1,"message":"60","line":13,"column":10,"nodeType":"58","messageId":"59","endLine":13,"endColumn":14},{"ruleId":"56","severity":1,"message":"61","line":30,"column":17,"nodeType":"58","messageId":"59","endLine":30,"endColumn":23},{"ruleId":"56","severity":1,"message":"60","line":2,"column":10,"nodeType":"58","messageId":"59","endLine":2,"endColumn":14},{"ruleId":"62","severity":1,"message":"63","line":52,"column":21,"nodeType":"64","endLine":52,"endColumn":38},"no-native-reassign",["65"],"no-negated-in-lhs",["66"],"no-unused-vars","'Player' is defined but never used.","Identifier","unusedVar","'Link' is defined but never used.","'player' is assigned a value but never used.","jsx-a11y/anchor-has-content","Anchors must have content and the content must be accessible by a screen reader.","JSXOpeningElement","no-global-assign","no-unsafe-negation"]